{"version":3,"sources":["./src/app/workflow/route-resolvers/workflow-resolver.service.ts","./src/app/workflow/route-resolvers/workflows-resolver.service.ts","./src/app/workflow/shared/workflow.service.ts","./src/app/workflow/work-flow-designer/work-flow-designer.component.ts","./src/app/workflow/work-flow-designer/work-flow-designer.component.html","./src/app/workflow/workflow-default/workflow-default.component.ts","./src/app/workflow/workflow-default/workflow-default.component.html","./src/app/workflow/workflow-routing.module.ts","./src/app/workflow/workflow.module.ts","./src/app/workflow/workflows/workflows.component.ts","./src/app/workflow/workflows/workflows.component.html"],"names":[],"mappings":"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","file":"workflow-workflow-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {WorkflowService} from '../shared/workflow.service';\nimport {Workflow} from '../../shared/workflow/models/workflow.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkflowResolverService {\n\n  constructor(private workflowService: WorkflowService, private router: Router) { }\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Workflow> {\n    const id = route.paramMap.get('workflowId');\n    return this.workflowService.getWorkflow(id);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {WorkflowService} from '../shared/workflow.service';\nimport {Workflow} from '../../shared/workflow/models/workflow.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkflowsResolverService {\n\n  constructor(private workflowService: WorkflowService, private router: Router) { }\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Workflow[]> {\n    return this.workflowService.getWorkflows();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { Workflow } from 'src/app/shared/workflow/models/workflow.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkflowService {\n  workflows: Workflow[] = [{\n    id: '1',\n    name: 'standard run',\n    vertexes: [\n      {\n        id: '1',\n        name: '入涂装',\n        width: 200,\n        height: 80,\n        x: 0,\n        y: 0,\n        style: ''\n      },\n      {\n        id: '2',\n        name: 'PVC线',\n        width: 200,\n        height: 80,\n        x: 0,\n        y: 0,\n        style: ''\n      },\n    ],\n    edges: [\n      {\n        id: '1',\n        name: '',\n        source: '1',\n        target: '2',\n        style: ''\n      }\n    ]\n  }];\n  constructor() { }\n\n  getWorkflows(): Observable<Workflow[]> {\n    return of(this.workflows);\n  }\n\n  getWorkflow(id: string): Observable<Workflow> {\n    return of(this.workflows.find(w => w.id === id));\n  }\n}\n","import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport { Vertex } from 'src/app/shared/workflow/models/vertex.model';\r\nimport { WorkflowSettings } from 'src/app/shared/workflow/models/workflow-settings.model';\r\nimport {Workflow} from '../../shared/workflow/models/workflow.model';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {Subject} from 'rxjs';\r\nimport {IconDefinition, faExpandArrowsAlt, faCaretUp, faCaretDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\ndeclare var mxGraph: any;\r\ndeclare var mxCell: any;\r\ndeclare var mxGraphModel: any;\r\ndeclare var mxHierarchicalLayout: any;\r\n// declare var mxConstants: any;\r\n// declare var mxEvent: any;\r\n// declare var mxGeometry: any;\r\n// declare var mxGraphView: any;\r\n// declare var mxMouseEvent: any;\r\n// declare var mxRectangle: any;\r\n// declare var mxUtils: any;\r\n// declare var mxPoint: any;\r\n\r\n@Component({\r\n  selector: 'emes-work-flow-designer',\r\n  templateUrl: './work-flow-designer.component.html',\r\n  styleUrls: ['./work-flow-designer.component.scss']\r\n})\r\nexport class WorkFlowDesignerComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('graphContainer') graphContainer: ElementRef | undefined;\r\n\r\n  faExpandArrowsAlt: IconDefinition = faExpandArrowsAlt;\r\n  faCaretUp: IconDefinition = faCaretUp;\r\n  faCaretDown: IconDefinition = faCaretDown;\r\n\r\n  hideScopeOfWork = false;\r\n\r\n  workflow: Workflow;\r\n\r\n  graph: any;\r\n\r\n  model: any;\r\n\r\n  workflowSettings: WorkflowSettings;\r\n  // Used for cleaning subscription\r\n  unsubscribe: Subject<void> = new Subject();\r\n\r\n  constructor(private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.workflowSettings = new WorkflowSettings();\r\n    this.workflowSettings.isEdited = true;\r\n    this.route.data.pipe(takeUntil(this.unsubscribe)).subscribe((data: {workflow: Workflow}) => {\r\n      this.workflow = data.workflow;\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    const root = new mxCell();\r\n    root.insert(new mxCell());\r\n\r\n    this.model = new mxGraphModel(root);\r\n    // @ts-ignore\r\n    this.graph = new mxGraph(this.graphContainer.nativeElement, this.model);\r\n    this.graph.setConnectable(true);\r\n    const parent = this.graph.getDefaultParent();\r\n    try {\r\n      this.model.beginUpdate();\r\n      const vertexes = new Map();\r\n      this.workflow.vertexes.forEach(vertexData => {\r\n        const vertex = this.graph.insertVertex(parent, vertexData.id, vertexData.name,\r\n          vertexData.x, vertexData.y, vertexData.width, vertexData.height);\r\n        vertexes.set(vertexData.id, vertex);\r\n      });\r\n      this.workflow.edges.forEach(edgeData => {\r\n        const source = vertexes.has(edgeData.source) ? vertexes.get(edgeData.source) : null;\r\n        const target = vertexes.has(edgeData.target) ? vertexes.get(edgeData.target) : null;\r\n        this.graph.insertEdge(parent, edgeData.id, edgeData.name, source, target);\r\n      });\r\n\r\n    } finally {\r\n      this.model.endUpdate();\r\n      new mxHierarchicalLayout(this.graph).execute(this.graph.getDefaultParent());\r\n    }\r\n  }\r\n\r\n  addRectangle() {\r\n    const parent = this.graph.getDefaultParent();\r\n    try {\r\n      this.model.beginUpdate();\r\n      const vertex = this.graph.insertVertex(parent, '222', 'Test',\r\n        100, 100, 200, 80);\r\n\r\n    } finally {\r\n      this.model.endUpdate();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","<div class=\"container-fluid d-flex flex-column flex-fill\">\r\n  <div class=\"row justify-content-between align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n    <div class=\"col\">\r\n      <h2>YZ Mod. A</h2>\r\n    </div>\r\n    <div class=\"col-auto\">\r\n      <div class=\"btn-toolbar mb-2 mb-md-0\">\r\n        <div class=\"btn-group mr-2\">\r\n          <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\">Share</button>\r\n          <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\">Export</button>\r\n        </div>\r\n        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary dropdown-toggle\">\r\n          <span data-feather=\"calendar\"></span>\r\n          This week\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row flex-fill\">\r\n    <div #sidebarGraphContainer class=\"col geSidebarContainer\">\r\n      <div class=\"row border-bottom justify-content-between no-args no-gutters mt-3\">\r\n        <div class=\"col-auto font-weight-bold\">\r\n          Normal Process flow\r\n        </div>\r\n        <div class=\"col\">\r\n          <fa-icon [icon]=\"faCaretDown\" *ngIf=\"hideScopeOfWork\" [fixedWidth]=\"true\" class=\"gray-text pointer pr-0\" (click)=\"hideScopeOfWork=!hideScopeOfWork\"></fa-icon>\r\n          <fa-icon [icon]=\"faCaretUp\" *ngIf=\"!hideScopeOfWork\" [fixedWidth]=\"true\" class=\"gray-text pointer pr-0\" (click)=\"hideScopeOfWork=!hideScopeOfWork\"></fa-icon>\r\n        </div>\r\n      </div>\r\n      <ng-container *ngIf=\"!hideScopeOfWork\">\r\n        <div class=\"row mt-3\">\r\n          <div class=\"col font-weight-bold\">\r\n            <i (click)=\"addRectangle()\">\r\n              <mat-icon class=\"pointer\" style=\"font-size: 100px\">crop_16_9</mat-icon>\r\n            </i>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </ng-container>\r\n    </div>\r\n    <div class=\"col geDiagramContainer geDiagramBackdrop\">\r\n      <div #graphContainer id=\"graphContainer\"></div>\r\n    </div>\r\n    <div class=\"col\">\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<!--<emes-work-flow [workflowSettings]=\"workflowSettings\"></emes-work-flow>-->\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'emes-workflow-default',\n  templateUrl: './workflow-default.component.html',\n  styleUrls: ['./workflow-default.component.scss']\n})\nexport class WorkflowDefaultComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>workflow-default works!</p>\n","import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {WorkFlowDesignerComponent} from './work-flow-designer/work-flow-designer.component';\r\nimport {WorkflowsComponent} from './workflows/workflows.component';\r\nimport {WorkflowsResolverService} from './route-resolvers/workflows-resolver.service';\r\nimport {WorkflowResolverService} from './route-resolvers/workflow-resolver.service';\r\nimport {WorkflowDefaultComponent} from './workflow-default/workflow-default.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: WorkflowsComponent, resolve: {workflows: WorkflowsResolverService}, children: [\r\n      {path: ':workflowId', resolve: {workflow: WorkflowResolverService}, component: WorkFlowDesignerComponent},\r\n      { path: '', component: WorkflowDefaultComponent }\r\n    ]},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class WorkflowRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { WorkflowRoutingModule } from './workflow-routing.module';\r\nimport { WorkFlowDesignerComponent } from './work-flow-designer/work-flow-designer.component';\r\nimport { WorkflowsComponent } from './workflows/workflows.component';\r\nimport { WorkflowDefaultComponent } from './workflow-default/workflow-default.component';\r\nimport {MatIconModule} from '@angular/material/icon';\r\n\r\n@NgModule({\r\n  declarations: [WorkFlowDesignerComponent, WorkflowsComponent, WorkflowDefaultComponent],\r\n  imports: [\r\n    SharedModule,\r\n    WorkflowRoutingModule,\r\n    MatIconModule\r\n  ]\r\n})\r\nexport class WorkflowModule { }\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {takeUntil} from 'rxjs/operators';\nimport {ActivatedRoute} from '@angular/router';\nimport {Subject} from 'rxjs';\nimport {Workflow} from '../../shared/workflow/models/workflow.model';\nimport {faSearch, IconDefinition} from '@fortawesome/free-solid-svg-icons';\nimport {MenuItem} from '../../shared/side-bar/models/menu-items.model';\nimport {faProductHunt} from '@fortawesome/free-brands-svg-icons';\n\n@Component({\n  selector: 'emes-workflows',\n  templateUrl: './workflows.component.html',\n  styleUrls: ['./workflows.component.scss']\n})\nexport class WorkflowsComponent implements OnInit, OnDestroy {\n  // Icons\n  faSearch: IconDefinition = faSearch;\n\n  menuItems: MenuItem[];\n\n  workflows: Workflow[];\n\n  // Holds filter text\n  filterSubject$: Subject<string> = new Subject<string>();\n\n  // Used for cleaning subscription\n  unsubscribe: Subject<void> = new Subject();\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data.pipe(takeUntil(this.unsubscribe)).subscribe((data: {workflows: Workflow[]}) => {\n      this.workflows = data.workflows;\n      this.menuItems = data.workflows.map(w => ({\n        id: w.id,\n        icon: faProductHunt,\n        label: w.name,\n        route: [w.id],\n        children: []\n      }));\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n}\n","<div class=\"container-fluid h-100 px-0\">\n  <div class=\"row h-100 no-gutters\">\n    <emes-side-bar class=\"col-md-3 col-lg-2 d-none d-md-block bg-light\" [header]=\"'Workflow'\" [menuItems]=\"menuItems\"></emes-side-bar>\n\n    <main class=\"col d-flex flex-column\">\n      <router-outlet></router-outlet>\n    </main>\n\n  </div>\n</div>\n"],"sourceRoot":"webpack:///"}