{"version":3,"sources":["./src/app/admin/admin-routing.module.ts","./src/app/admin/admin.module.ts","./src/app/admin/admin/admin.component.ts","./src/app/admin/admin/admin.component.html","./src/app/admin/menus/menus.component.ts","./src/app/admin/menus/menus.component.html","./src/app/admin/roles-selector/roles-selector.component.ts","./src/app/admin/roles-selector/roles-selector.component.html","./src/app/admin/roles/roles.component.ts","./src/app/admin/roles/roles.component.html","./src/app/admin/route-resolvers/menus-resolver.service.ts","./src/app/admin/route-resolvers/roles-resolver.service.ts","./src/app/admin/route-resolvers/users-resolver.service.ts","./src/app/admin/user-viewer/user-viewer.component.ts","./src/app/admin/user-viewer/user-viewer.component.html","./src/app/admin/users/users.component.ts","./src/app/admin/users/users.component.html","./src/app/core/user/role.service.ts"],"names":[],"mappings":"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","file":"admin-admin-module-es2015.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {UsersComponent} from './users/users.component';\r\nimport {AdminComponent} from './admin/admin.component';\r\nimport {RolesComponent} from './roles/roles.component';\r\nimport {MenusComponent} from './menus/menus.component';\r\nimport {UsersResolverService} from './route-resolvers/users-resolver.service';\r\nimport {RolesResolverService} from './route-resolvers/roles-resolver.service';\r\nimport {MenusResolverService} from './route-resolvers/menus-resolver.service';\r\n\r\n\r\nconst routes: Routes = [{\r\n  path: '', component: AdminComponent, children: [\r\n    {path: 'users', component: UsersComponent, resolve: {users: UsersResolverService}},\r\n    {path: 'roles', component: RolesComponent, resolve: {roles: RolesResolverService}},\r\n    {path: 'menus', component: MenusComponent, resolve: {menus: MenusResolverService, roles: RolesResolverService}}\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {UsersComponent} from './users/users.component';\r\nimport {AdminRoutingModule} from './admin-routing.module';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {RolesComponent} from './roles/roles.component';\r\nimport {MenusComponent} from './menus/menus.component';\r\nimport {AdminComponent} from './admin/admin.component';\r\nimport {UserViewerComponent} from './user-viewer/user-viewer.component';\r\nimport {RolesSelectorComponent} from './roles-selector/roles-selector.component';\r\n\r\n@NgModule({\r\n  declarations: [UsersComponent, RolesComponent, MenusComponent, AdminComponent, UserViewerComponent, RolesSelectorComponent],\r\n  imports: [\r\n    SharedModule,\r\n    AdminRoutingModule\r\n  ]\r\n})\r\nexport class AdminModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {IconDefinition, faUsers, faList, faLock, faSitemap, faUserTag, faBars} from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'emes-admin',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.scss']\r\n})\r\nexport class AdminComponent implements OnInit {\r\n  // Icons\r\n  faUsers: IconDefinition = faUsers;\r\n  faUserTag: IconDefinition = faUserTag;\r\n  faBars: IconDefinition = faBars;\r\n  faSitemap: IconDefinition = faSitemap;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid h-100 d-flex pr-0\">\r\n  <div class=\"row flex-fill\">\r\n    <div class=\"col-2 border-right gray-200-background pt-2\">\r\n\r\n      <ul class=\"nav flex-column\">\r\n        <li class=\"nav-item d-flex justify-content-between\">\r\n          <a class=\"nav-link\">\r\n            <span class=\"text-capitalize font-weight-bold\">Settings</span>\r\n          </a>\r\n        </li>\r\n\r\n        <li class=\"dropdown-divider gray-500-border-top mx-n3\"></li>\r\n\r\n        <li class=\"nav-item d-flex justify-content-between\">\r\n          <a class=\"nav-link pointer\" [routerLink]=\"'users'\" routerLinkActive=\"active\">\r\n            <fa-icon [icon]=\"faUsers\" [fixedWidth]=\"true\"></fa-icon> Users\r\n          </a>\r\n        </li>\r\n\r\n        <li class=\"nav-item d-flex justify-content-between\">\r\n          <a class=\"nav-link pointer\" [routerLink]=\"'roles'\" routerLinkActive=\"active\">\r\n            <fa-icon [icon]=\"faUserTag\" [fixedWidth]=\"true\"></fa-icon> Roles\r\n          </a>\r\n        </li>\r\n        <li class=\"nav-item d-flex justify-content-between\">\r\n          <a class=\"nav-link pointer\" [routerLink]=\"'menus'\" routerLinkActive=\"active\">\r\n            <fa-icon [icon]=\"faBars\" [fixedWidth]=\"true\"></fa-icon> Menus\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"col d-flex\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit, OnDestroy} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {faExternalLinkAlt, faPlus, faTrash} from '@fortawesome/free-solid-svg-icons';\r\nimport {DataTableColumnDefinition, DataTableSettings, DataTableToolbarControl} from 'data-table';\r\nimport {DynamicFormService, ModalConfig, CustomValidators} from 'dynamic-form';\r\nimport {MenuService} from '../../core/layout/menu/menu.service';\r\nimport {RoleService} from '../../core/user/role.service';\r\nimport {MenuItem} from '../../core/layout/menu/menu-item';\r\nimport {Role} from '../../core/user/models/role.model';\r\nimport {ModalDismissReasons, NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {UserViewerComponent} from '../user-viewer/user-viewer.component';\r\n\r\n@Component({\r\n  selector: 'emes-menus',\r\n  templateUrl: './menus.component.html',\r\n  styleUrls: ['./menus.component.scss']\r\n})\r\nexport class MenusComponent implements OnInit, OnDestroy {\r\n  settings: DataTableSettings;\r\n  // Indicator whether current user is admin\r\n  isAdmin = true;\r\n  closeResult = '';\r\n  // Used for cleaning subscription\r\n  private unsubscribe: Subject<void> = new Subject();\r\n\r\n  constructor(private roleService: RoleService,\r\n              private menuService: MenuService,\r\n              private dynamicFormService: DynamicFormService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: false, filterMode: 'none'},\r\n      {id: '2', name: 'name', label: 'Name', type: 'text', visible: true, searchable: false, filterMode: 'text'},\r\n      {id: '3', name: 'url', label: 'Url', type: 'text', visible: true, searchable: false, filterMode: 'text'},\r\n      {id: '4', name: 'roleName', label: 'Role', type: 'text', visible: true, searchable: false, filterMode: 'text'},\r\n      {\r\n        id: '4',\r\n        name: 'view',\r\n        label: 'View',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.viewMenu.bind(this)\r\n      },\r\n      {\r\n        id: '5',\r\n        name: 'delete',\r\n        label: 'Delete',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.deleteMenu.bind(this)\r\n      },\r\n    ];\r\n    this.menuService.allMenus$.pipe(takeUntil(this.unsubscribe)).subscribe(users => {\r\n      this.settings = {\r\n        selectableRows: false,\r\n        columnDefinitions: columnDefinition,\r\n        data: users.map(t => ({...t, roleName: t.role?.name, view: faExternalLinkAlt, delete: faTrash})),\r\n        toolBar: {\r\n          right: [\r\n            ...this.isAdmin ? [{\r\n              name: 'New Menu',\r\n              type: 'button',\r\n              icon: faPlus,\r\n              callback: this.createMenu.bind(this)\r\n            } as DataTableToolbarControl] : [],\r\n            {type: 'filter'} as DataTableToolbarControl\r\n          ]\r\n        },\r\n        groupBy: []\r\n      };\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  createMenu() {\r\n    const config: ModalConfig = {\r\n      headerText: 'Create a menu',\r\n      submitText: 'OK',\r\n      closeText: 'Cancel',\r\n      onSubmit: (e: { name: string, url: string, role: Role }) => this.doCreateMenu(e),\r\n      onDismiss: (e: string) => {\r\n      },\r\n      extraButtons: [],\r\n      fields: [\r\n        {\r\n          type: 'input',\r\n          label: 'Name',\r\n          name: 'name',\r\n          placeholder: 'Enter the menu name',\r\n          validation: [\r\n            CustomValidators.required('Name required'),\r\n          ]\r\n        }, {\r\n          type: 'input',\r\n          label: 'Url',\r\n          name: 'url',\r\n          placeholder: 'Enter the url',\r\n          validation: [\r\n            CustomValidators.required('Url required'),\r\n          ]\r\n        }, {\r\n          type: 'select',\r\n          label: 'Role',\r\n          name: 'role',\r\n          options: this.roleService.roles$.getValue().map(x => ({key: x, value: x.name})),\r\n          placeholder: 'Choose existed Sprint Scenario',\r\n          validation: []\r\n        }\r\n      ]\r\n    };\r\n    this.dynamicFormService.popDynamicFormModal(config);\r\n  }\r\n\r\n  doCreateMenu(newMenu: { name: string, url: string, role: Role }): void {\r\n    this.menuService.createMenu(newMenu).pipe(takeUntil(this.unsubscribe)).subscribe();\r\n  }\r\n\r\n  viewMenu(menu: MenuItem) {\r\n    const config: ModalConfig = {\r\n      headerText: 'View a menu',\r\n      submitText: 'OK',\r\n      closeText: 'Cancel',\r\n      onSubmit: (e: { name: string, url: string, role: Role }) => this.doUpdateMenu(menu.id, e),\r\n      onDismiss: (e: string) => {\r\n      },\r\n      extraButtons: [],\r\n      fields: [\r\n        {\r\n          type: 'input',\r\n          label: 'Name',\r\n          name: 'name',\r\n          value: menu.name,\r\n          placeholder: 'Enter the menu name',\r\n          validation: [\r\n            CustomValidators.required('Name required'),\r\n          ]\r\n        }, {\r\n          type: 'input',\r\n          label: 'Url',\r\n          name: 'url',\r\n          value: menu.url,\r\n          placeholder: 'Enter the url',\r\n          validation: [\r\n            CustomValidators.required('Url required'),\r\n          ]\r\n        }, {\r\n          type: 'select',\r\n          label: 'Role',\r\n          name: 'role',\r\n          value: menu.role?.name,\r\n          options: this.roleService.roles$.getValue().map(x => ({key: x, value: x.name})),\r\n          placeholder: 'Choose a role',\r\n          validation: []\r\n        }\r\n      ]\r\n    };\r\n    this.dynamicFormService.popDynamicFormModal(config);\r\n  }\r\n\r\n  doUpdateMenu(id: string, menu: { name: string, url: string, role: Role }): void {\r\n    this.menuService.update(id, menu).pipe(takeUntil(this.unsubscribe)).subscribe();\r\n  }\r\n\r\n  deleteMenu(menu: MenuItem) {\r\n    const config = {\r\n      headerText: 'Confirm Delete Menu.',\r\n      submitText: 'Ok',\r\n      closeText: 'Cancel',\r\n      onSubmit: () => this.doDelete(menu),\r\n      onDismiss: () => {\r\n      },\r\n      notifications: [`Are you Sure you want to delete menu '${menu.name}'?`]\r\n    };\r\n    this.dynamicFormService.popNotification(config);\r\n  }\r\n\r\n  doDelete(menu: MenuItem) {\r\n    this.menuService.delete(menu.id).pipe(takeUntil(this.unsubscribe)).subscribe(x => {\r\n    });\r\n  }\r\n}\r\n","<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n  <h2>{{'ADMIN.MENUS' | translate}}</h2>\r\n</div>\r\n<csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\r\nimport {Role} from '../../core/user/models/role.model';\r\nimport {DataTableSettings, DataTableColumnDefinition, DataTableToolbarControl} from 'data-table';\r\nimport {faTrash} from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'emes-roles-selector',\r\n  templateUrl: './roles-selector.component.html',\r\n  styleUrls: ['./roles-selector.component.scss']\r\n})\r\nexport class RolesSelectorComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() config: { roles: Role[] };\r\n\r\n  @Output()\r\n  submitted: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Output()\r\n  dismissed: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // Indicate roles selected\r\n  roleSelected = false;\r\n\r\n  // The datatable settings\r\n  settings: DataTableSettings;\r\n\r\n  // The list of group members, name and description of the group.\r\n  // A deep copy of the config.group object is needed in case user decide to cancel the form\r\n  roles: Role[] = [];\r\n\r\n  selectedRoles: Role[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.buildTableSettings();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  buildTableSettings(): void {\r\n    this.roles = this.config.roles;\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: true, filterMode: 'none'},\r\n      {id: '2', name: 'name', label: 'Role name', type: 'text', visible: true, searchable: true, filterMode: 'select'}\r\n    ];\r\n\r\n    this.settings = {\r\n      selectableRows: true,\r\n      columnDefinitions: columnDefinition,\r\n      data: this.roles.map(r => ({...r, icon: faTrash})),\r\n      toolBar: {\r\n        left: [{name: 'Select', type: 'button', callback: this.selectRoles.bind(this)} as DataTableToolbarControl],\r\n        right: [{type: 'search'} as DataTableToolbarControl]\r\n      },\r\n      groupBy: []\r\n    };\r\n  }\r\n\r\n  selectRoles(rows: any[]) {\r\n    this.selectedRoles = this.roles.filter(r => rows.map(x => x.data.id).includes(r.id));\r\n    if (this.selectedRoles.length > 0) {\r\n      this.roleSelected = true;\r\n    } else {\r\n      this.roleSelected = false;\r\n    }\r\n  }\r\n\r\n  submitForm(method: string) {\r\n    this.submitted.emit(this.selectedRoles);\r\n  }\r\n\r\n  dismissForm(method: string) {\r\n    this.dismissed.emit(method);\r\n  }\r\n\r\n}\r\n","<div class=\"modal-content\">\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Select Roles</h5>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismissForm('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body d-flex flex-column\" style=\"height:60vh;\">\r\n    <csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" (click)=\"dismissForm('Close button')\" class=\"btn btn-secondary\">Cancel</button>\r\n    <button type=\"button\" [disabled]=\"!roleSelected\" (click)=\"submitForm('OK')\" class=\"btn btn-primary\">Ok</button>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {DataTableColumnDefinition, DataTableSettings, DataTableToolbarControl} from 'data-table';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {faExternalLinkAlt, faPlus, faTrash} from '@fortawesome/free-solid-svg-icons';\r\nimport {RoleService} from '../../core/user/role.service';\r\nimport {Role} from '../../core/user/models/role.model';\r\nimport {DynamicFormService, ModalConfig, CustomValidators} from 'dynamic-form';\r\n\r\n@Component({\r\n  selector: 'emes-roles',\r\n  templateUrl: './roles.component.html',\r\n  styleUrls: ['./roles.component.scss']\r\n})\r\nexport class RolesComponent implements OnInit, OnDestroy {\r\n  settings: DataTableSettings;\r\n  // Indicator whether current user is admin\r\n  isAdmin = true;\r\n  // Used for cleaning subscription\r\n  private unsubscribe: Subject<void> = new Subject();\r\n\r\n  constructor(private roleService: RoleService, private dynamicFormService: DynamicFormService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: true, filterMode: 'none'},\r\n      {id: '2', name: 'name', label: 'Name', type: 'text', visible: true, searchable: true, filterMode: 'text'},\r\n      {\r\n        id: '4',\r\n        name: 'view',\r\n        label: 'View',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.viewRole.bind(this)\r\n      },\r\n      {\r\n        id: '5',\r\n        name: 'delete',\r\n        label: 'Delete',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.deleteRole.bind(this)\r\n      },\r\n    ];\r\n    this.roleService.roles$.pipe(takeUntil(this.unsubscribe)).subscribe(users => {\r\n      this.settings = {\r\n        selectableRows: false,\r\n        columnDefinitions: columnDefinition,\r\n        data: users.map(t => ({...t, view: faExternalLinkAlt, delete: faTrash})),\r\n        toolBar: {\r\n          right: [\r\n            ...this.isAdmin ? [{\r\n              name: 'New Role',\r\n              type: 'button',\r\n              icon: faPlus,\r\n              callback: this.createRole.bind(this)\r\n            } as DataTableToolbarControl] : [],\r\n            {type: 'filter'} as DataTableToolbarControl\r\n          ]\r\n        },\r\n        groupBy: []\r\n      };\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  createRole() {\r\n    const config: ModalConfig = {\r\n      headerText: 'Create a role',\r\n      submitText: 'OK',\r\n      closeText: 'Cancel',\r\n      onSubmit: (e: { name: string }) => this.doCreateRole(e.name),\r\n      onDismiss: (e: string) => {\r\n      },\r\n      extraButtons: [],\r\n      fields: [\r\n        {\r\n          type: 'input',\r\n          label: 'Name',\r\n          name: 'name',\r\n          placeholder: 'Enter a role name',\r\n          validation: [\r\n            CustomValidators.required('Role name required'),\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n    this.dynamicFormService.popDynamicFormModal(config);\r\n  }\r\n\r\n  private doCreateRole(name: string): void {\r\n    this.roleService.create(name).pipe(takeUntil(this.unsubscribe)).subscribe();\r\n  }\r\n\r\n  viewRole(role: Role) {\r\n    const config: ModalConfig = {\r\n      headerText: 'Create a role',\r\n      submitText: 'OK',\r\n      closeText: 'Cancel',\r\n      onSubmit: (e: { name: string }) => this.doRename(role.id, e.name),\r\n      onDismiss: (e: string) => {\r\n      },\r\n      extraButtons: [],\r\n      fields: [\r\n        {\r\n          type: 'input',\r\n          label: 'Name',\r\n          name: 'name',\r\n          value: role.name,\r\n          placeholder: 'Enter a role name',\r\n          validation: [\r\n            CustomValidators.required('Role name required'),\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n    this.dynamicFormService.popDynamicFormModal(config);\r\n  }\r\n\r\n  private doRename(id: string, newName: string) {\r\n    this.roleService.rename(id, newName).pipe(takeUntil(this.unsubscribe)).subscribe();\r\n  }\r\n\r\n  deleteRole() {\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n  <h2>{{'ADMIN.ROLES' | translate}}</h2>\r\n</div>\r\n<csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n","import { Injectable } from '@angular/core';\r\nimport {RoleService} from '../../core/user/role.service';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {Role} from '../../core/user/models/role.model';\r\nimport {MenuService} from '../../core/layout/menu/menu.service';\r\nimport {MenuItem} from '../../core/layout/menu/menu-item';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MenusResolverService {\r\n\r\n  constructor(private menuService: MenuService, private router: Router) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<MenuItem[]> {\r\n    return this.menuService.getMenus();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {RoleService} from '../../core/user/role.service';\r\nimport {Role} from '../../core/user/models/role.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RolesResolverService {\r\n\r\n  constructor(private roleService: RoleService, private router: Router) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Role[]> {\r\n    return this.roleService.getRoles();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {BinService} from '../../bins/shared/bin.service';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {Bin} from '../../bins/shared/models/bin.model';\r\nimport {UserService} from '../../core/user/user.service';\r\nimport {User} from '../../core/user/models/user.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsersResolverService {\r\n\r\n  constructor(private userService: UserService, private router: Router) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<User[]> {\r\n    return this.userService.getUsers();\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {DataTableSettings, DataTableColumnDefinition, DataTableToolbarControl} from 'data-table';\r\nimport {User} from '../../core/user/models/user.model';\r\nimport {Role} from '../../core/user/models/role.model';\r\nimport {faPlus, faTrash} from '@fortawesome/free-solid-svg-icons';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {UserService} from '../../core/user/user.service';\r\nimport {RolesSelectorComponent} from '../roles-selector/roles-selector.component';\r\nimport {RoleService} from '../../core/user/role.service';\r\nimport {DynamicFormService} from 'dynamic-form';\r\n\r\n@Component({\r\n  selector: 'emes-user-viewer',\r\n  templateUrl: './user-viewer.component.html',\r\n  styleUrls: ['./user-viewer.component.scss']\r\n})\r\nexport class UserViewerComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n  @Input() config: {\r\n    user: User\r\n  };\r\n\r\n  @Output()\r\n  submitted: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Output()\r\n  dismissed: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // The datatable settings\r\n  settings: DataTableSettings;\r\n\r\n  // The list of group members, name and description of the group.\r\n  // A deep copy of the config.group object is needed in case user decide to cancel the form\r\n  roles: Role[] = [];\r\n  name: string;\r\n  description: string | undefined;\r\n\r\n  // The list of team members that have been added and removed\r\n  // It is necessary to keep track of those to allow the user to cancel the form\r\n  addedRoles: Role[] = [];\r\n  removedRoles: Role[] = [];\r\n\r\n  // Used for cleaning subscription\r\n  private unsubscribe: Subject<void> = new Subject();\r\n\r\n  constructor(private dynamicFormService: DynamicFormService, private userService: UserService, private roleService: RoleService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.buildTableSettings();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.buildTableSettings();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n\r\n  buildTableSettings(): void {\r\n    this.name = this.config.user.firstName + ' ' + this.config.user.lastName;\r\n    this.roles = this.config.user.roles;\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: true, filterMode: 'none'},\r\n      {id: '2', name: 'name', label: 'Role name', type: 'text', visible: true, searchable: true, filterMode: 'select'},\r\n      {\r\n        id: '3',\r\n        name: 'icon',\r\n        label: 'Remove',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.removeRole.bind(this)\r\n      },\r\n    ];\r\n\r\n    this.settings = {\r\n      selectableRows: true,\r\n      columnDefinitions: columnDefinition,\r\n      data: this.roles.map(g => ({...g, icon: faTrash})),\r\n      toolBar: {\r\n        left: [\r\n          {name: 'Remove', type: 'button', callback: this.removeRoles.bind(this)} as DataTableToolbarControl\r\n        ],\r\n        right: [\r\n          {name: 'Add Role', type: 'button', icon: faPlus, callback: this.addRole.bind(this)},\r\n          {type: 'search'} as DataTableToolbarControl\r\n        ]\r\n      },\r\n      groupBy: []\r\n    };\r\n  }\r\n\r\n  submitForm(method: string) {\r\n    this.submitted.emit({\r\n      addedRoles: this.addedRoles,\r\n      removedRoles: this.removedRoles\r\n    });\r\n  }\r\n\r\n  dismissForm(method: string) {\r\n    this.dismissed.emit(method);\r\n  }\r\n\r\n  // Add a role to the user\r\n  addRole(): void {\r\n    this.roleService.getRoles().pipe(takeUntil(this.unsubscribe)).subscribe(roles => {\r\n      const selectedRoleIds = this.roles.map(r => r.id);\r\n      const config = {\r\n        roles: roles.filter(r => !selectedRoleIds.includes(r.id)),\r\n        onSubmit: (selectedRoles: Role[]) => this.doAddRole(selectedRoles),\r\n        onDismiss: (e: string) => {\r\n        }\r\n      };\r\n      this.dynamicFormService.popModal(RolesSelectorComponent, config);\r\n    });\r\n  }\r\n\r\n  doAddRole(roles: Role[]): void {\r\n    this.config.user.roles.push(...roles);\r\n    this.userService.updateUser(this.config.user.id, this.config.user, false).pipe(takeUntil(this.unsubscribe)).subscribe(x => {\r\n\r\n        this.buildTableSettings();\r\n      },\r\n      error => {\r\n        const indexs = roles.map(r => this.removedRoles.findIndex(x => x.id === r.id));\r\n        indexs.forEach(idx => {\r\n          if (idx > 0) {\r\n            this.roles.splice(idx, 1);\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  // Remove role from the user\r\n  removeRole(row: any): void {\r\n    this.removeRoles([{data: row}]);\r\n  }\r\n\r\n  removeRoles(rows: any[]): void {\r\n    const roles = rows.map(x => x.data) as Role[];\r\n    const config = {\r\n      headerText: 'Remove members',\r\n      submitText: 'Ok',\r\n      closeText: 'Cancel',\r\n      onSubmit: () => this.doRemoveRoles(roles),\r\n      onDismiss: () => {\r\n      },\r\n      notifications: [\r\n        'Are you sure to remove the following role(s) from this user?',\r\n        roles.map(x => x.name).join(', ')\r\n      ]\r\n    };\r\n    this.dynamicFormService.popNotification(config);\r\n  }\r\n\r\n  doRemoveRoles(roles: Role[]): void {\r\n    // Members were removed if they are not in the list of addedMembers, otherwise they are un-added\r\n    roles.forEach(u => {\r\n      const idx = this.addedRoles.findIndex(x => x.id === u.id);\r\n\r\n      if (idx > -1) {\r\n        this.addedRoles.splice(idx, 1);\r\n      } else {\r\n        this.removedRoles.push(u);\r\n      }\r\n\r\n      const idx2 = this.roles.findIndex(x => x.id === u.id);\r\n      this.roles.splice(idx2, 1);\r\n    });\r\n\r\n    this.buildTableSettings();\r\n  }\r\n\r\n}\r\n","<div class=\"modal-content\">\r\n  <div class=\"modal-header\">\r\n    <h5 class=\"modal-title\">Manage User: {{name}}</h5>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismissForm('Cross click')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body d-flex flex-column\" style=\"height:80vh;\">\r\n    <csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" (click)=\"dismissForm('Close button')\" class=\"btn btn-secondary\">Cancel</button>\r\n    <button type=\"button\" (click)=\"submitForm('OK')\" class=\"btn btn-primary\">Ok</button>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {faExternalLinkAlt, faPlus, faTrash} from '@fortawesome/free-solid-svg-icons';\r\nimport {DataTableColumnDefinition, DataTableSettings, DataTableToolbarControl} from 'data-table';\r\nimport {DynamicFormService, ModalConfig, CustomValidators} from 'dynamic-form';\r\nimport {UserService} from '../../core/user/user.service';\r\nimport {User} from '../../core/user/models/user.model';\r\nimport {UserViewerComponent} from '../user-viewer/user-viewer.component';\r\nimport {Role} from '../../core/user/models/role.model';\r\n\r\n@Component({\r\n  selector: 'emes-users',\r\n  templateUrl: './users.component.html',\r\n  styleUrls: ['./users.component.scss']\r\n})\r\nexport class UsersComponent implements OnInit, OnDestroy {\r\n  settings: DataTableSettings;\r\n  // Indicator whether current user is admin\r\n  isAdmin = true;\r\n  // Used for cleaning subscription\r\n  private unsubscribe: Subject<void> = new Subject();\r\n\r\n  constructor(private userService: UserService, private dynamicFormService: DynamicFormService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: false, filterMode: 'none'},\r\n      {id: '2', name: 'name', label: 'Name', type: 'text', visible: true, searchable: false, filterMode: 'text'},\r\n      {id: '3', name: 'roles.length', label: 'Roles', type: 'text', visible: true, searchable: false, filterMode: 'none'},\r\n      {\r\n        id: '4',\r\n        name: 'view',\r\n        label: 'View',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.viewUser.bind(this)\r\n      },\r\n      {\r\n        id: '5',\r\n        name: 'delete',\r\n        label: 'Delete',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.deleteUser.bind(this)\r\n      },\r\n    ];\r\n    this.userService.users$.pipe(takeUntil(this.unsubscribe)).subscribe(users => {\r\n      this.settings = {\r\n        selectableRows: false,\r\n        columnDefinitions: columnDefinition,\r\n        data: users.map(t => ({...t, name: t.firstName + ' ' + t.lastName, view: faExternalLinkAlt, delete: faTrash})),\r\n        toolBar: {\r\n          right: [\r\n            ...this.isAdmin ? [{\r\n              name: 'New User',\r\n              type: 'button',\r\n              icon: faPlus,\r\n              callback: this.createUser.bind(this)\r\n            } as DataTableToolbarControl] : [],\r\n            {type: 'filter'} as DataTableToolbarControl\r\n          ]\r\n        },\r\n        groupBy: []\r\n      };\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  createUser() {\r\n    const config: ModalConfig = {\r\n      headerText: 'Create a user',\r\n      submitText: 'OK',\r\n      closeText: 'Cancel',\r\n      onSubmit: (e: { userName: string, firstName: string, lastName: string, password: string }) => this.doCreateUser(e),\r\n      onDismiss: (e: string) => {\r\n      },\r\n      extraButtons: [],\r\n      fields: [\r\n        {\r\n          type: 'input',\r\n          label: 'User name',\r\n          name: 'userName',\r\n          placeholder: 'Enter a user name',\r\n          validation: [\r\n            CustomValidators.required('User name required'),\r\n          ]\r\n        },\r\n        {\r\n          type: 'input',\r\n          label: 'First name',\r\n          name: 'firstName',\r\n          placeholder: 'Enter the first name',\r\n          validation: [\r\n            CustomValidators.required('First name required'),\r\n          ]\r\n        },\r\n        {\r\n          type: 'input',\r\n          label: 'Last name',\r\n          name: 'lastName',\r\n          placeholder: 'Enter the last name',\r\n          validation: [\r\n            CustomValidators.required('Last name required'),\r\n          ]\r\n        },\r\n        {\r\n          type: 'input',\r\n          label: 'Password',\r\n          name: 'password',\r\n          placeholder: 'Enter the password',\r\n          validation: [\r\n            CustomValidators.required('Password required'),\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n    this.dynamicFormService.popDynamicFormModal(config);\r\n  }\r\n\r\n  private doCreateUser(e: {userName: string, firstName: string, lastName: string, password: string}) {\r\n    this.userService.createUser(e).pipe(takeUntil(this.unsubscribe)).subscribe();\r\n  }\r\n\r\n  viewUser(user: User) {\r\n    const config = {\r\n      user,\r\n      onSubmit: (changes: { addedRoles: Role[], removedRoles: Role[] }) => this.processChanges(user, changes),\r\n      onDismiss: (e: string) => {\r\n      }\r\n    };\r\n\r\n    this.dynamicFormService.popModal(UserViewerComponent, config);\r\n  }\r\n\r\n  private processChanges(user, changes: any) {\r\n    if (changes && changes.addedRoles && changes.addedRoles.length > 0) {\r\n\r\n    }\r\n    if (changes && changes.removedRoles && changes.removedRoles.length > 0) {\r\n\r\n    }\r\n  }\r\n\r\n  deleteUser() {\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n  <h2>{{'ADMIN.USERS' | translate}}</h2>\r\n</div>\r\n<csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {BehaviorSubject, Observable, of} from 'rxjs';\r\nimport {environment} from '../../../environments/environment';\r\nimport {User} from './models/user.model';\r\nimport {Role} from './models/role.model';\r\nimport {tap} from 'rxjs/operators';\r\nimport {MenuItem} from '../layout/menu/menu-item';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoleService {\r\n  private roleUrl = environment.baseUrl + 'api/v1/roles';\r\n  roles$: BehaviorSubject<Role[]> = new BehaviorSubject<Role[]>([]);\r\n  roles: Role[] = [\r\n    {\r\n      id: '1',\r\n      name: 'ROLE_ADMIN'\r\n    }\r\n  ];\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getRoles(): Observable<any[]> {\r\n    // const url = `${this.roleUrl}`;\r\n    // return this.http.get<any>(url).pipe(tap(r => {\r\n    //   this.roles$.next(r);\r\n    // }));\r\n    this.roles$.next(this.roles);\r\n    return of(this.roles);\r\n  }\r\n\r\n  create(name: string): Observable<any> {\r\n    // const url = `${this.roleUrl}`;\r\n    // const payload = {name};\r\n    // return this.http.post<any>(url, payload).pipe(tap(x => {\r\n    //   const roles = this.roles$.getValue();\r\n    //   roles.push({id: x, name});\r\n    //   this.roles$.next(roles);\r\n    // }));\r\n    const roles = this.roles$.getValue();\r\n    roles.push({id: '123', name});\r\n    this.roles$.next(roles);\r\n    return of({});\r\n  }\r\n\r\n  rename(id: string, newName: string): Observable<any> {\r\n    // const url = `${this.roleUrl}/${id}/add-menus`;\r\n    // const payload = {name: newName};\r\n    // return this.http.put<any>(url, payload).pipe(tap(x => {\r\n    //   const roles = this.roles$.getValue();\r\n    //   const theRole = roles.find(r => r.id === id);\r\n    //   if (theRole) {\r\n    //     theRole.name = newName;\r\n    //   }\r\n    //   this.roles$.next(roles);\r\n    // }));\r\n    const roles = this.roles$.getValue();\r\n    const theRole = roles.find(r => r.id === id);\r\n    if (theRole) {\r\n      theRole.name = newName;\r\n    }\r\n    this.roles$.next(roles);\r\n    return of({});\r\n  }\r\n\r\n  // addMenus(id: string, menus: MenuItem[]): Observable<any> {\r\n  //   const url = `${this.roleUrl}/${id}/add-menus`;\r\n  //   const payload = {menus};\r\n  //   return this.http.post<any>(url, payload).pipe(tap(x => {\r\n  //     const roles = this.roles$.getValue();\r\n  //     const theRole = roles.find(r => r.id === id);\r\n  //     if (theRole) {\r\n  //       theRole.menus.push(menus);\r\n  //     }\r\n  //     this.roles$.next(roles);\r\n  //   }));\r\n  // }\r\n  //\r\n  // removeMenus(id: string, menus: MenuItem[]): Observable<any> {\r\n  //   const url = `${this.roleUrl}/${id}/remove-menus`;\r\n  //   const payload = {menus};\r\n  //   return this.http.post<any>(url, payload).pipe(tap(x => {\r\n  //     const roles = this.roles$.getValue();\r\n  //     const theRole = roles.find(r => r.id === id);\r\n  //     if (theRole) {\r\n  //       menus.map(m => theRole.menus.findIndex(y => y.id === m.id)).forEach(idx => {\r\n  //         theRole.menus.splice(idx, 1);\r\n  //       });\r\n  //     }\r\n  //     this.roles$.next(roles);\r\n  //   }));\r\n  // }\r\n}\r\n"],"sourceRoot":"webpack:///"}