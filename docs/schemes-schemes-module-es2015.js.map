{"version":3,"sources":["./src/app/schemes/route-resolvers/scheme-resolver.service.ts","./src/app/schemes/route-resolvers/schemes-resolver.service.ts","./src/app/schemes/scheme-default/scheme-default.component.ts","./src/app/schemes/scheme-default/scheme-default.component.html","./src/app/schemes/scheme/scheme.component.ts","./src/app/schemes/scheme/scheme.component.html","./src/app/schemes/schemes-routing.module.ts","./src/app/schemes/schemes.module.ts","./src/app/schemes/schemes/schemes.component.ts","./src/app/schemes/schemes/schemes.component.html"],"names":[],"mappings":"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","file":"schemes-schemes-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {SchemeService} from '../../shared/services/scheme.service';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {Scheme} from '../../shared/models/scheme.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SchemeResolverService {\r\n\r\n  constructor(private schemeService: SchemeService, private router: Router) { }\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Scheme> {\r\n    const schemeName = route.paramMap.get('schemeName');\r\n    return this.schemeService.getSchemeByName(schemeName);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {LineService} from '../../lines/shared/line.service';\r\nimport {ActivatedRouteSnapshot, Router, RouterStateSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {Line} from '../../lines/shared/models/line.model';\r\nimport {SchemeService} from '../../shared/services/scheme.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SchemesResolverService {\r\n\r\n  constructor(private schemeService: SchemeService, private router: Router) { }\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<string[]> {\r\n    return this.schemeService.getSchemeNames();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'emes-scheme-default',\r\n  templateUrl: './scheme-default.component.html',\r\n  styleUrls: ['./scheme-default.component.scss']\r\n})\r\nexport class SchemeDefaultComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>scheme-default works!</p>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Subject} from 'rxjs';\r\nimport { DataTableSettings, DataTableColumnDefinition, DataTableToolbarControl } from 'data-table';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {faExternalLinkAlt, faPlus, faTrash} from '@fortawesome/free-solid-svg-icons';\r\nimport {SchemeService} from '../../shared/services/scheme.service';\r\n\r\n@Component({\r\n  selector: 'emes-scheme',\r\n  templateUrl: './scheme.component.html',\r\n  styleUrls: ['./scheme.component.scss']\r\n})\r\nexport class SchemeComponent implements OnInit, OnDestroy {\r\n  settings: DataTableSettings;\r\n  // Indicator whether current user is admin\r\n  isAdmin = true;\r\n  // Used for cleaning subscription\r\n  private unsubscribe: Subject<void> = new Subject();\r\n  constructor(private schemeService: SchemeService) { }\r\n\r\n  ngOnInit(): void {\r\n    const columnDefinition: DataTableColumnDefinition[] = [\r\n      {id: '1', name: 'id', label: 'Id', type: 'text', visible: true, searchable: false, filterMode: 'none'},\r\n      {id: '2', name: 'fullName', label: 'Field Name', type: 'text', visible: true, searchable: false, filterMode: 'text'},\r\n      {id: '3', name: 'scheme', label: 'Type', type: 'text', visible: true, searchable: false, filterMode: 'none'},\r\n      {\r\n        id: '4',\r\n        name: 'view',\r\n        label: 'View',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.viewField.bind(this)\r\n      },\r\n      {\r\n        id: '5',\r\n        name: 'delete',\r\n        label: 'Delete',\r\n        type: 'icon',\r\n        visible: true,\r\n        searchable: false,\r\n        filterMode: 'none',\r\n        click: this.deleteField.bind(this)\r\n      },\r\n    ];\r\n    this.schemeService.scheme$.pipe(takeUntil(this.unsubscribe)).subscribe(scheme => {\r\n      this.settings = {\r\n        selectableRows: false,\r\n        columnDefinitions: columnDefinition,\r\n        data: scheme.fields.map(t => ({...t, view: faExternalLinkAlt, delete: faTrash})),\r\n        toolBar: {\r\n          right: [\r\n            ...this.isAdmin ? [{\r\n              name: 'New Field',\r\n              type: 'button',\r\n              icon: faPlus,\r\n              callback: this.createField.bind(this)\r\n            } as DataTableToolbarControl] : [],\r\n            {type: 'filter'} as DataTableToolbarControl\r\n          ]\r\n        },\r\n        groupBy: []\r\n      };\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  createField() {\r\n\r\n  }\r\n\r\n  viewField() {\r\n\r\n  }\r\n\r\n  deleteField() {}\r\n\r\n}\r\n","<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n  <h2>{{'ADMIN.USERS' | translate}}</h2>\r\n</div>\r\n<csps-data-table [settings]=\"settings\" class=\"d-flex flex-fill\"></csps-data-table>\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {ProfileComponent} from '../profile/profile/profile.component';\r\nimport {UserResolverService} from '../profile/route-resolvers/user-resolver.service';\r\nimport {SchemesComponent} from './schemes/schemes.component';\r\nimport {SchemesResolverService} from './route-resolvers/schemes-resolver.service';\r\nimport {SchemeComponent} from './scheme/scheme.component';\r\nimport {SchemeResolverService} from './route-resolvers/scheme-resolver.service';\r\nimport {SchemeDefaultComponent} from './scheme-default/scheme-default.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '', component: SchemesComponent, resolve: {schemes: SchemesResolverService}, children: [\r\n    {path: ':schemeName', component: SchemeComponent, resolve: {scheme: SchemeResolverService}},\r\n    {path: '', component: SchemeDefaultComponent}\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SchemesRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SchemesComponent } from './schemes/schemes.component';\r\nimport { SchemeDefaultComponent } from './scheme-default/scheme-default.component';\r\nimport { SchemeComponent } from './scheme/scheme.component';\r\nimport {SharedModule} from '../shared/shared.module';\r\nimport {SchemesRoutingModule} from './schemes-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [SchemesComponent, SchemeDefaultComponent, SchemeComponent],\r\n  imports: [\r\n    SharedModule,\r\n    SchemesRoutingModule\r\n  ]\r\n})\r\nexport class SchemesModule { }\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {MenuItem} from '../../shared/side-bar/model/menu-item.model';\r\nimport {Subject} from 'rxjs';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {Bin} from '../../bins/shared/models/bin.model';\r\nimport {faCog, faHome, faPlus} from '@fortawesome/free-solid-svg-icons';\r\nimport {SchemeService} from '../../shared/services/scheme.service';\r\n\r\n@Component({\r\n  selector: 'emes-schemes',\r\n  templateUrl: './schemes.component.html',\r\n  styleUrls: ['./schemes.component.scss']\r\n})\r\nexport class SchemesComponent implements OnInit, OnDestroy {\r\n\r\n  menuItems: MenuItem[];\r\n\r\n  // Used for cleaning subscription\r\n  unsubscribe: Subject<void> = new Subject();\r\n  private showNewPage: any;\r\n  private showSettings: any;\r\n\r\n  constructor(private route: ActivatedRoute, private schemeService: SchemeService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.schemeService.schemeNames$.pipe(takeUntil(this.unsubscribe)).subscribe((schemeNames: string[]) => {\r\n      this.menuItems = schemeNames.map(p => ({\r\n        id: p,\r\n        icon: faHome,\r\n        label: p,\r\n        route: [p],\r\n        children: []\r\n      }));\r\n\r\n      // Add new page as sticky bottom menu item\r\n      // if (this.showNewPage) {\r\n      //   const newPageMenuItem: MenuItem = { id: 'newPageMenuItemId', label: 'New Page', icon: faPlus, stickyBottom: true, onClick: () => this.showCreateNewDocument('', '') };\r\n      //   this.menuItems.push(newPageMenuItem);\r\n      // }\r\n      //\r\n      // // Add settings as sticky bottom menu item\r\n      // if (this.showSettings) {\r\n      //   const settingMenuItem: MenuItem = { id: 'settingsMenuItemId', label: 'Settings', icon: faCog, stickyBottom: true, route: ['settings'], collpaseOnClick: true };\r\n      //   this.menuItems.push(settingMenuItem);\r\n      // }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  createScheme() {\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid h-100 px-0\">\r\n  <div class=\"row h-100 no-gutters\">\r\n    <emes-side-bar class=\"col-md-3 col-lg-2 d-none d-md-block bg-light\" [header]=\"'Bin'\" [menuItems]=\"menuItems\"></emes-side-bar>\r\n\r\n    <main class=\"col d-flex flex-column\">\r\n      <router-outlet></router-outlet>\r\n    </main>\r\n\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}